<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Intro to AngularJS ~ Girl Develop It</title>

    <meta name="description" content="Girl Develop It Intro to Angular Class Pt2. Erin Brown (@ernbrn) developed this section and taught this workshop for GDI RDU">
    <meta name="author" content="Girl Develop It">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/gdidefault.css" id="theme">

    <!-- For syntax highlighting -->
    <!-- light editor <link rel="stylesheet" href="lib/css/light.css"> -->
    <!-- dark editor <link rel="stylesheet" href="lib/css/dark.css">-->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <link rel="stylesheet" href="plugin/accessibility-helper/css/accessibility-helper.css">

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
      if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
      }
    </script>

    <!-- If use the PDF print sheet so students can print slides-->

    <link rel="stylesheet" href="css/print/pdf.css" type="text/css" media="print">
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <h5> Welcome Back! </h5>
          <p> Today we'll need a couple of new tools. If you haven't already, please do the following: </p>
          <ul>
            <li>Install node.js and npm (<a href="https://docs.npmjs.com/getting-started/installing-node" target="_blank">great instructions here</a>)</li>
          </ul>

        </section>
        <section>
          <h3>Agenda</h3>
          <h5>Class 3</h5>
          <ul>
            <li>Homework Presentation (optional but encouraged!)</li>
            <li>$scope</li>
            <li>Nested Controllers</li>
            <li>Routing with ngRoute</li>
            <li>Building Custom Directives</li>
          </ul>
        </section>

        <section>
          <h3>$scope</h3>
          <ul>
            <li><a href="https://docs.angularjs.org/guide/scope">Angular $scope</a> is an object that refers to the application model</li>
            <li class="fragment">Angular prefixes public objects with <code>$</code> and private objects with <code>$$</code></li>
            <li class="fragment">When you attach properties to <code>$scope</code> they become models available to the view</li>
          </ul>
        </section>
        <section>
<small>in app.js</small>
<pre><code class="js">(function(){
  angular
    .module('myApp', [])
    .controller('MainController', function($scope){
      $scope.cat = cat;
    });

  var cat = {
    name: 'Ms. Whiskers',
    age: 9,
    eyes: 'blue'
  };
})();
</code></pre>

<small>in index.html</small>
<pre><code class="xml">&lt;body ng-app="myApp"&gt;
  &lt;section ng-controller="MainController"&gt;
    &lt;p&gt;My cat's name is {{cat.name}}&lt;/p&gt;
    &lt;p&gt;She has {{cat.eyes}} eyes and she's
    {{cat.age}} years old.&lt;/p&gt;
  &lt;/section&gt;

&lt;/body&gt;
</code></pre>
        </section>

        <section>
          <h3>Wait a second...</h3>
          <img src='http://wallpaper.ultradownloads.com.br/276174_Papel-de-Parede-Meme-Wait_1280x1024.jpg' height="200px">
          <ul class="fragment">
            <li>Does this seem super familiar?</li>
            <li class="fragment">Didn't we learn that <code> this.property = "a model"</code>?</li>
            <li class="fragment">Yes! We did. They both do.</li>
          </ul>
        </section>

        <section>
          <h3>$scope</h3>
          <ul>
            <li>In this class so far, we've been avoiding using <code>$scope</code> in favor of using <code>this</code> in our controllers to reference the application model</li>
            <li class="fragment">That's mainly because the <code>$scope</code> object is being phased out of Angular, and using <code>this</code> with <a href="http://toddmotto.com/digging-into-angulars-controller-as-syntax/">'controller as' syntax</a> is now considered best practice</li>
            <li class="fragment">Another advantage of "controller as syntax" is that it provides explicit reference to the controller in the View</li>
            <li class="fragment">This is a really good thing if you need to nest controllers</li>
          </ul>
        </section>

        <section>
          <h3>$scope</h3>
          <ul>
            <li>The <code>$scope</code> object gives us some cool Angular features, so we still use it</li>
            <li class="fragment">For example, <code>$watch</code> is an API that watches/listens for changes in user input, and can run callback functions when changes occur</li>
            <li class="fragment">We can use <code>$scope.$watch</code> to save our checked off todo list items to local storage</li>
          </ul>
        </section>

        <section>
          <h3>$scope.$watch</h3>
<pre><code>angular.module('todoApp', ['LocalStorageModule'])
.controller('TodoListController', function($scope, localStorageService) {
  var todoList = this;

  var todosInStore = localStorageService.get('myTodos');
  todoList.todos = todosInStore || [];

  $scope.$watch('todoList.todos', function () {
    localStorageService.set('myTodos', todoList.todos);
  }, true);
  todoList.addTodo = function() {
    todoList.todos.push({text:todoList.todoText, done:false});
    //localStorageService.set('myTodos', todoList.todos);
    todoList.todoText = '';
  };

  [...]
});
</code></pre>
</section>

        <section>
          <h3>Exercise</h3>
          <ul>
            <li>Modify one of your existing apps, or create a new app that accepts user input and displays the input in the view.</li>
            <li>Include <a href="https://github.com/grevory/angular-local-storage" target="_blank">Angular Local Storage</a> in your project (by downloading and linking to it, or using a CDN)</li>
            <li>Modify your app to utilize local storage, so that when the user refreshes the page, the data they previously entered persists</li>
          </ul>
        </section>

        <section>
          <h3>Nested Controllers</h3>
          <ul>
            <li>When making more complex applications, you can nest controllers</li>
            <li class="fragment">A child controller has access to its parent's scope</li>
            <li class="fragment">A parent controller DOES NOT have access to its children's scope</li>
          </ul>
        </section>

        <section>
          <h3>Nested Controllers</h3>
          <p data-height="505" data-theme-id="0" data-slug-hash="xVeBGY" data-default-tab="html" data-user="ernbrn" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/ernbrn/pen/xVeBGY/">nestedControllers.js</a> by Erin Brown (<a href="http://codepen.io/ernbrn">@ernbrn</a>) on <a href="http://codepen.io">CodePen</a>.</p>
          <script async src="//assets.codepen.io/assets/embed/ei.js"></script>
        </section>

        <section>
          <h3>Routing with ngRoute</h3>
          <ul>
            <li>ngRoute is an Angular module, but it's an external dependency so you must include it in your project</li>
            <li class="fragment">It gives us <code>$routeProvider</code> which we use to configure our routes</li>
            <li class="fragment">We configure our routes in the configuration block of our module</li>
            <li class="fragment">We'll use <code>ng-view</code> to specify where our new template should be rendered</li>
          </ul>
        </section>

        <section>
          <h3>Exercise Setup: Bike Store</h3>
          <ul>
            <li>Go to https://github.com/ernbrn/myBikeStore to clone or download My Bike Store</li>
            <li>Once you have the project cloned or unzipped, navigate to the project in the terminal and run <code>npm install</code> to install the dependencies</li>
            <li>When that's done, in your console run <code>npm start</code></li>
            <li>The app is now running on a local server! Go see it at <a href="http://localhost:8000/app" target="_blank">http://localhost:8000/app</a>
          </ul>
        </section>

        <section>
          <h3>Exercise: Bike Store</h3>
          <ul>
            <li>Add a new page to the Bike Store: Road Bikes</li>
            <li>Add the new section to the menu and link to it accordingly</li>
            <li>Make sure the new bikes are included in the "All Bikes" section</li>
          </ul>
        </section>

        <section>
          <h3>Building Custom Directives</h3>
          <ul>
            <li>Remember those things?</li>
            <li class="fragment">"At a high level, directives are markers on a DOM element (such as an attribute, element name, comment or CSS class) that tell AngularJS's HTML compiler... to attach a specified behavior to that DOM element... or even to transform the DOM element and its children."</li>
            <li class="fragment">Much like you create controllers and services, you can create your own directives for Angular to use</li>
            <li class="fragment">We typically refer to directives by their case-sensitive camelCase normalized name (e.g. ngModel)</li>
            <li class="fragment">Since HTML is case-insensitive, we refer to directives in the DOM by lower-case forms, typically using dash-delimited attributes on DOM elements (e.g. ng-model)</li>
          </ul>
        </section>

        <section>
          <h3>Building Custom Directives</h3>
          <ul>
            <li>Like a controller, we register them on the module with the normalized name, followed by a function that returns an object that tells Angular how the directive should behave.</li>
            <li class="fragment">When Angular bootstraps your application, the HTML compiler traverses the DOM matching directives against the DOM elements</li>
            <li class="fragment">It's best to leave the <code>ng</code> namespace to Angular</li>
          </ul>
        </section>

        <section>
          <h3>Building Custom Directives</h3>
            <p>A directive (unless told otherwise) has access to its parent's scope</p>
            <p data-height="265" data-theme-id="0" data-slug-hash="EKJMXE" data-default-tab="js" data-user="ernbrn" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/ernbrn/pen/EKJMXE/">simpleDirective.js</a> by Erin Brown (<a href="http://codepen.io/ernbrn">@ernbrn</a>) on <a href="http://codepen.io">CodePen</a>.</p>
            <script async src="//assets.codepen.io/assets/embed/ei.js"></script>
        </section>

        <section>
          <h3>Building Custom Directives</h3>
          <ul>
            <li>This directive is fine, but it's not super reusable</li>
            <li class="fragment">In fact, as written it can only be used by the DogController</li>
            <li class="fragment">Maybe there's a better way!</li>
          </ul>
        </section>

        <section>
          <h3>A better way: Isolate Scope</h3>
          <p data-height="309" data-theme-id="0" data-slug-hash="eZaBNq" data-default-tab="js" data-user="ernbrn" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/ernbrn/pen/eZaBNq/">isolateScopeDirective.js</a> by Erin Brown (<a href="http://codepen.io/ernbrn">@ernbrn</a>) on <a href="http://codepen.io">CodePen</a>.</p>
          <script async src="//assets.codepen.io/assets/embed/ei.js"></script>
          <small>Let's go add a controller to see how resuable this directive is!</small>
        </section>

        <section>
          <h3>Directives that manipulate the DOM</h3>
          <ul>
            <li>Directives that want to modify the DOM typically use the <code>link</code> option to register DOM listeners as well as update the DOM</li>
            <li class="fragment">The <code>link</code> option is a function that gives you access to several attributes including <code>scope</code>, <code>element</code>, and <code>attrs</code></li>
            <li class="fragment"><code>scope</code> is an Angular scope object</li>
            <li class="fragment"><code>element</code> is the <a href="https://docs.angularjs.org/api/ng/function/angular.element">jqLite</a> (Angular's built-in subset of jQuery) wrapped element that this directive matches</li>
            <li class="fragment"><code>attrs</code> is a hash object with key-value pairs of normalized attribute names and their corresponding attribute values</li>
          </ul>
         </section>

         <section>
<pre><code>angular.module('myApp', [])
.directive('mouseAlert', function () {
  return {
    scope: {
      alert: '='
    },
    link: function (scope, element, attrs) {
      //super awesome code here
    }
  }
});
</pre></code>
        </section>

        <section>
          <h3>Exercise: Directives in the Bike Store (template + isolate scope)</h3>
          <ul>
            <li>The Bike Store is looking pretty good, but there is a lot of duplicate UI.</li>
            <li>I want <b>"Name"</b>, <b>"Manufactuer"</b>, and <b>"Price"</b> to be in bold</li>
            <li>Instead of making this change on each template, refactor the Bike Store to use a directive</li>
            <li>This Directive should have an isolate scope so it can work with all 3 controllers</li>
            <li>
          </ul>
        </section>

        <section>
          <h3>Exercise: Directives in the Bike Store</h3>
          <p>Modify your directive to include a <code>link</code> function to manipulate the DOM when you hover over an element.</p>
          <p>Ideas include:</p>
          <ul>
            <li>Turning the background a different color</li>
            <li>If the model contains a 'soldOut' property that's <code>true</code> trigger an alert that says so</li>
            <li>Only show the image of the bike and only display price and model info when you hover over it</li>
            <li>If you have a dream you want help executing, ask me or Josh!</li>
          </ul>
        </section>

      </div>
      <footer>
        <div class="copyright">
          HTML/CSS ~ Girl Develop It
          <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/3.0/80x15.png" /></a>
        </div>
      </footer>
    </div>


    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/accessibility-helper/js/accessibility-helper.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
